// Generated by CoffeeScript 2.7.0
var Tile, antal, created, current, draw, echo, keyPressed, range, setup, shownTiles, tiles,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

echo = console.log;

range = _.range;

tiles = [];

current = -1;

antal = 1;

created = 0;

Tile = class Tile {
  constructor(letter, x, y, dx, dy) {
    this.letter = letter;
    this.x = x;
    this.y = y;
    this.dx = dx;
    this.dy = dy;
  }

  draw() {
    noFill();
    rect(this.x - this.dx, this.y - this.dy, 2 * this.dx, 2 * this.dy);
    fill('black');
    return text(this.letter, this.x, this.y);
  }

};

shownTiles = [];

setup = function() {
  createCanvas(600, 600);
  textAlign(CENTER, CENTER);
  return textSize(100);
};

draw = function() {
  var i, j, k, len, len1, ref, tile;
  background('gray');
  fill('black');
  for (j = 0, len = shownTiles.length; j < len; j++) {
    tile = shownTiles[j];
    tile.draw();
  }
  push();
  textSize(20);
  ref = range(tiles.length);
  for (k = 0, len1 = ref.length; k < len1; k++) {
    i = ref[k];
    if (i === current) {
      fill('yellow');
    } else {
      fill('black');
    }
    text(tiles[i], 20 + 20 * i, 20);
  }
  return pop();
};

keyPressed = function() {
  var n, other;
  echo(key);
  if (key === 'ArrowLeft') {
    current = modulo(current - 1, tiles.length);
  }
  if (key === 'ArrowRight') {
    current = modulo(current + 1, tiles.length);
  }
  if (key === 'n') {
    tiles.push("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[created]);
    created += 1;
    current = tiles.length - 1;
  }
  n = tiles.length;
  if (key === '1') {
    antal = 1;
  }
  if (key === '2') {
    antal = 2;
  }
  if (key === '3') {
    antal = 3;
  }
  if (key === '4') {
    antal = 4;
  }
  if (antal > n) {
    antal = n;
  }
  if (key === 'a') { // move left
    other = modulo(current - 1, n);
    [tiles[current], tiles[other]] = [tiles[other], tiles[current]];
    current = other;
  }
  if (key === 'd') { // move right
    other = modulo(current + 1, n);
    [tiles[current], tiles[other]] = [tiles[other], tiles[current]];
    current = other;
  }
  if (key === 'Delete') {
    tiles.splice(current, 1);
    n = tiles.length;
    if (current === n) {
      current = tiles.length - 1;
    }
    if (antal > n) {
      antal = n;
    }
  }
  shownTiles = [];
  if (antal === 1) {
    shownTiles.push(new Tile(tiles[current], 300, 300, 300, 300));
  }
  if (antal === 2) {
    shownTiles.push(new Tile(tiles[current], 150, 300, 150, 300));
    shownTiles.push(new Tile(tiles[modulo(current + 1, n)], 450, 300, 150, 300));
  }
  if (antal === 3) {
    shownTiles.push(new Tile(tiles[current + 0], 150, 300, 150, 300));
    shownTiles.push(new Tile(tiles[modulo(current + 1, n)], 450, 150, 150, 150));
    shownTiles.push(new Tile(tiles[modulo(current + 2, n)], 450, 450, 150, 150));
  }
  if (antal === 4) {
    shownTiles.push(new Tile(tiles[current + 0], 150, 150, 150, 150));
    shownTiles.push(new Tile(tiles[modulo(current + 1, n)], 450, 150, 150, 150));
    shownTiles.push(new Tile(tiles[modulo(current + 2, n)], 150, 450, 150, 150));
    return shownTiles.push(new Tile(tiles[modulo(current + 3, n)], 450, 450, 150, 150));
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uXFwiLCJzb3VyY2VzIjpbImNvZmZlZVxcc2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQTtFQUFBOztBQUFBLElBQUEsR0FBTyxPQUFPLENBQUM7O0FBQ2YsS0FBQSxHQUFRLENBQUMsQ0FBQzs7QUFFVixLQUFBLEdBQVE7O0FBQ1IsT0FBQSxHQUFVLENBQUM7O0FBQ1gsS0FBQSxHQUFROztBQUVSLE9BQUEsR0FBVTs7QUFFSixPQUFOLE1BQUEsS0FBQTtFQUNDLFdBQWMsT0FBQSxHQUFBLEdBQUEsSUFBQSxJQUFBLENBQUE7SUFBQyxJQUFDLENBQUE7SUFBTyxJQUFDLENBQUE7SUFBRSxJQUFDLENBQUE7SUFBRSxJQUFDLENBQUE7SUFBRyxJQUFDLENBQUE7RUFBcEI7O0VBQ2QsSUFBTyxDQUFBLENBQUE7SUFDTixNQUFBLENBQUE7SUFDQSxJQUFBLENBQUssSUFBQyxDQUFBLENBQUQsR0FBRyxJQUFDLENBQUEsRUFBVCxFQUFhLElBQUMsQ0FBQSxDQUFELEdBQUcsSUFBQyxDQUFBLEVBQWpCLEVBQXFCLENBQUEsR0FBRSxJQUFDLENBQUEsRUFBeEIsRUFBNEIsQ0FBQSxHQUFFLElBQUMsQ0FBQSxFQUEvQjtJQUNBLElBQUEsQ0FBSyxPQUFMO1dBQ0EsSUFBQSxDQUFLLElBQUMsQ0FBQSxNQUFOLEVBQWEsSUFBQyxDQUFBLENBQWQsRUFBZ0IsSUFBQyxDQUFBLENBQWpCO0VBSk07O0FBRlI7O0FBUUEsVUFBQSxHQUFhOztBQUViLEtBQUEsR0FBUSxRQUFBLENBQUEsQ0FBQTtFQUNQLFlBQUEsQ0FBYSxHQUFiLEVBQWlCLEdBQWpCO0VBQ0EsU0FBQSxDQUFVLE1BQVYsRUFBaUIsTUFBakI7U0FDQSxRQUFBLENBQVMsR0FBVDtBQUhPOztBQUtSLElBQUEsR0FBTyxRQUFBLENBQUEsQ0FBQTtBQUNQLE1BQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUE7RUFBQyxVQUFBLENBQVcsTUFBWDtFQUNBLElBQUEsQ0FBSyxPQUFMO0VBQ0EsS0FBQSw0Q0FBQTs7SUFDQyxJQUFJLENBQUMsSUFBTCxDQUFBO0VBREQ7RUFHQSxJQUFBLENBQUE7RUFDQSxRQUFBLENBQVMsRUFBVDtBQUNBO0VBQUEsS0FBQSx1Q0FBQTs7SUFDQyxJQUFHLENBQUEsS0FBRyxPQUFOO01BQW1CLElBQUEsQ0FBSyxRQUFMLEVBQW5CO0tBQUEsTUFBQTtNQUFzQyxJQUFBLENBQUssT0FBTCxFQUF0Qzs7SUFDQSxJQUFBLENBQUssS0FBSyxDQUFDLENBQUQsQ0FBVixFQUFjLEVBQUEsR0FBRyxFQUFBLEdBQUcsQ0FBcEIsRUFBc0IsRUFBdEI7RUFGRDtTQUdBLEdBQUEsQ0FBQTtBQVhNOztBQWFQLFVBQUEsR0FBYSxRQUFBLENBQUEsQ0FBQTtBQUNiLE1BQUEsQ0FBQSxFQUFBO0VBQUMsSUFBQSxDQUFLLEdBQUw7RUFDQSxJQUFHLEdBQUEsS0FBTyxXQUFWO0lBQTJCLE9BQUEsVUFBVyxPQUFBLEdBQVEsR0FBTSxLQUFLLENBQUMsUUFBMUQ7O0VBQ0EsSUFBRyxHQUFBLEtBQU8sWUFBVjtJQUE0QixPQUFBLFVBQVcsT0FBQSxHQUFRLEdBQU0sS0FBSyxDQUFDLFFBQTNEOztFQUNBLElBQUcsR0FBQSxLQUFPLEdBQVY7SUFDQyxLQUFLLENBQUMsSUFBTixDQUFXLDRCQUE0QixDQUFDLE9BQUQsQ0FBdkM7SUFDQSxPQUFBLElBQVc7SUFDWCxPQUFBLEdBQVUsS0FBSyxDQUFDLE1BQU4sR0FBZSxFQUgxQjs7RUFJQSxDQUFBLEdBQUksS0FBSyxDQUFDO0VBQ1YsSUFBRyxHQUFBLEtBQU8sR0FBVjtJQUFtQixLQUFBLEdBQVEsRUFBM0I7O0VBQ0EsSUFBRyxHQUFBLEtBQU8sR0FBVjtJQUFtQixLQUFBLEdBQVEsRUFBM0I7O0VBQ0EsSUFBRyxHQUFBLEtBQU8sR0FBVjtJQUFtQixLQUFBLEdBQVEsRUFBM0I7O0VBQ0EsSUFBRyxHQUFBLEtBQU8sR0FBVjtJQUFtQixLQUFBLEdBQVEsRUFBM0I7O0VBQ0EsSUFBRyxLQUFBLEdBQVEsQ0FBWDtJQUFrQixLQUFBLEdBQVEsRUFBMUI7O0VBQ0EsSUFBRyxHQUFBLEtBQU8sR0FBVjtJQUNDLEtBQUEsVUFBUyxPQUFBLEdBQVEsR0FBTTtJQUN2QixDQUFDLEtBQUssQ0FBQyxPQUFELENBQU4sRUFBaUIsS0FBSyxDQUFDLEtBQUQsQ0FBdEIsQ0FBQSxHQUFpQyxDQUFDLEtBQUssQ0FBQyxLQUFELENBQU4sRUFBZSxLQUFLLENBQUMsT0FBRCxDQUFwQjtJQUNqQyxPQUFBLEdBQVUsTUFIWDs7RUFJQSxJQUFHLEdBQUEsS0FBTyxHQUFWO0lBQ0MsS0FBQSxVQUFTLE9BQUEsR0FBUSxHQUFNO0lBQ3ZCLENBQUMsS0FBSyxDQUFDLE9BQUQsQ0FBTixFQUFpQixLQUFLLENBQUMsS0FBRCxDQUF0QixDQUFBLEdBQWlDLENBQUMsS0FBSyxDQUFDLEtBQUQsQ0FBTixFQUFlLEtBQUssQ0FBQyxPQUFELENBQXBCO0lBQ2pDLE9BQUEsR0FBVSxNQUhYOztFQUlBLElBQUcsR0FBQSxLQUFPLFFBQVY7SUFDQyxLQUFLLENBQUMsTUFBTixDQUFhLE9BQWIsRUFBcUIsQ0FBckI7SUFDQSxDQUFBLEdBQUksS0FBSyxDQUFDO0lBQ1YsSUFBRyxPQUFBLEtBQVcsQ0FBZDtNQUFxQixPQUFBLEdBQVUsS0FBSyxDQUFDLE1BQU4sR0FBYSxFQUE1Qzs7SUFDQSxJQUFHLEtBQUEsR0FBUSxDQUFYO01BQWtCLEtBQUEsR0FBTSxFQUF4QjtLQUpEOztFQU1BLFVBQUEsR0FBYTtFQUNiLElBQUcsS0FBQSxLQUFTLENBQVo7SUFDQyxVQUFVLENBQUMsSUFBWCxDQUFnQixJQUFJLElBQUosQ0FBUyxLQUFLLENBQUMsT0FBRCxDQUFkLEVBQXlCLEdBQXpCLEVBQThCLEdBQTlCLEVBQW1DLEdBQW5DLEVBQXdDLEdBQXhDLENBQWhCLEVBREQ7O0VBRUEsSUFBRyxLQUFBLEtBQVMsQ0FBWjtJQUNDLFVBQVUsQ0FBQyxJQUFYLENBQWdCLElBQUksSUFBSixDQUFTLEtBQUssQ0FBQyxPQUFELENBQWQsRUFBeUIsR0FBekIsRUFBOEIsR0FBOUIsRUFBbUMsR0FBbkMsRUFBd0MsR0FBeEMsQ0FBaEI7SUFDQSxVQUFVLENBQUMsSUFBWCxDQUFnQixJQUFJLElBQUosQ0FBUyxLQUFLLFFBQUUsT0FBQSxHQUFRLEdBQU0sRUFBaEIsQ0FBZCxFQUFrQyxHQUFsQyxFQUF1QyxHQUF2QyxFQUE0QyxHQUE1QyxFQUFpRCxHQUFqRCxDQUFoQixFQUZEOztFQUdBLElBQUcsS0FBQSxLQUFTLENBQVo7SUFDQyxVQUFVLENBQUMsSUFBWCxDQUFnQixJQUFJLElBQUosQ0FBUyxLQUFLLENBQUMsT0FBQSxHQUFRLENBQVQsQ0FBZCxFQUEyQixHQUEzQixFQUFnQyxHQUFoQyxFQUFxQyxHQUFyQyxFQUEwQyxHQUExQyxDQUFoQjtJQUNBLFVBQVUsQ0FBQyxJQUFYLENBQWdCLElBQUksSUFBSixDQUFTLEtBQUssUUFBRSxPQUFBLEdBQVEsR0FBTSxFQUFoQixDQUFkLEVBQWtDLEdBQWxDLEVBQXVDLEdBQXZDLEVBQTRDLEdBQTVDLEVBQWlELEdBQWpELENBQWhCO0lBQ0EsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsSUFBSSxJQUFKLENBQVMsS0FBSyxRQUFFLE9BQUEsR0FBUSxHQUFNLEVBQWhCLENBQWQsRUFBa0MsR0FBbEMsRUFBdUMsR0FBdkMsRUFBNEMsR0FBNUMsRUFBaUQsR0FBakQsQ0FBaEIsRUFIRDs7RUFJQSxJQUFHLEtBQUEsS0FBUyxDQUFaO0lBQ0MsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsSUFBSSxJQUFKLENBQVMsS0FBSyxDQUFDLE9BQUEsR0FBUSxDQUFULENBQWQsRUFBMkIsR0FBM0IsRUFBZ0MsR0FBaEMsRUFBcUMsR0FBckMsRUFBMEMsR0FBMUMsQ0FBaEI7SUFDQSxVQUFVLENBQUMsSUFBWCxDQUFnQixJQUFJLElBQUosQ0FBUyxLQUFLLFFBQUUsT0FBQSxHQUFRLEdBQU0sRUFBaEIsQ0FBZCxFQUFrQyxHQUFsQyxFQUF1QyxHQUF2QyxFQUE0QyxHQUE1QyxFQUFpRCxHQUFqRCxDQUFoQjtJQUNBLFVBQVUsQ0FBQyxJQUFYLENBQWdCLElBQUksSUFBSixDQUFTLEtBQUssUUFBRSxPQUFBLEdBQVEsR0FBTSxFQUFoQixDQUFkLEVBQWtDLEdBQWxDLEVBQXVDLEdBQXZDLEVBQTRDLEdBQTVDLEVBQWlELEdBQWpELENBQWhCO1dBQ0EsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsSUFBSSxJQUFKLENBQVMsS0FBSyxRQUFFLE9BQUEsR0FBUSxHQUFNLEVBQWhCLENBQWQsRUFBa0MsR0FBbEMsRUFBdUMsR0FBdkMsRUFBNEMsR0FBNUMsRUFBaUQsR0FBakQsQ0FBaEIsRUFKRDs7QUF0Q1kiLCJzb3VyY2VzQ29udGVudCI6WyJlY2hvID0gY29uc29sZS5sb2dcclxucmFuZ2UgPSBfLnJhbmdlXHJcblxyXG50aWxlcyA9IFtdXHJcbmN1cnJlbnQgPSAtMVxyXG5hbnRhbCA9IDFcclxuXHJcbmNyZWF0ZWQgPSAwXHJcblxyXG5jbGFzcyBUaWxlIFxyXG5cdGNvbnN0cnVjdG9yIDogKEBsZXR0ZXIsQHgsQHksQGR4LEBkeSkgLT5cclxuXHRkcmF3IDogLT5cclxuXHRcdG5vRmlsbCgpXHJcblx0XHRyZWN0IEB4LUBkeCwgQHktQGR5LCAyKkBkeCwgMipAZHlcclxuXHRcdGZpbGwgJ2JsYWNrJ1xyXG5cdFx0dGV4dCBAbGV0dGVyLEB4LEB5XHJcblxyXG5zaG93blRpbGVzID0gW11cclxuXHJcbnNldHVwID0gLT5cclxuXHRjcmVhdGVDYW52YXMgNjAwLDYwMFxyXG5cdHRleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblx0dGV4dFNpemUgMTAwXHJcblxyXG5kcmF3ID0gLT5cclxuXHRiYWNrZ3JvdW5kICdncmF5J1xyXG5cdGZpbGwgJ2JsYWNrJ1xyXG5cdGZvciB0aWxlIGluIHNob3duVGlsZXNcclxuXHRcdHRpbGUuZHJhdygpXHJcblxyXG5cdHB1c2goKVxyXG5cdHRleHRTaXplIDIwXHJcblx0Zm9yIGkgaW4gcmFuZ2UgdGlsZXMubGVuZ3RoXHJcblx0XHRpZiBpPT1jdXJyZW50IHRoZW4gZmlsbCAneWVsbG93JyBlbHNlIGZpbGwgJ2JsYWNrJ1xyXG5cdFx0dGV4dCB0aWxlc1tpXSwyMCsyMCppLDIwXHJcblx0cG9wKClcclxuXHJcbmtleVByZXNzZWQgPSAtPlxyXG5cdGVjaG8ga2V5XHJcblx0aWYga2V5ID09ICdBcnJvd0xlZnQnIHRoZW4gY3VycmVudCA9IChjdXJyZW50LTEpICUlIHRpbGVzLmxlbmd0aFxyXG5cdGlmIGtleSA9PSAnQXJyb3dSaWdodCcgdGhlbiBjdXJyZW50ID0gKGN1cnJlbnQrMSkgJSUgdGlsZXMubGVuZ3RoXHJcblx0aWYga2V5ID09ICduJ1xyXG5cdFx0dGlsZXMucHVzaCBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCJbY3JlYXRlZF1cclxuXHRcdGNyZWF0ZWQgKz0gMVxyXG5cdFx0Y3VycmVudCA9IHRpbGVzLmxlbmd0aCAtIDFcclxuXHRuID0gdGlsZXMubGVuZ3RoXHJcblx0aWYga2V5ID09ICcxJyB0aGVuIGFudGFsID0gMVxyXG5cdGlmIGtleSA9PSAnMicgdGhlbiBhbnRhbCA9IDJcclxuXHRpZiBrZXkgPT0gJzMnIHRoZW4gYW50YWwgPSAzXHJcblx0aWYga2V5ID09ICc0JyB0aGVuIGFudGFsID0gNFxyXG5cdGlmIGFudGFsID4gbiB0aGVuIGFudGFsID0gblxyXG5cdGlmIGtleSA9PSAnYScgIyBtb3ZlIGxlZnRcclxuXHRcdG90aGVyID0gKGN1cnJlbnQtMSkgJSUgblxyXG5cdFx0W3RpbGVzW2N1cnJlbnRdLCB0aWxlc1tvdGhlcl1dID0gW3RpbGVzW290aGVyXSwgdGlsZXNbY3VycmVudF1dXHJcblx0XHRjdXJyZW50ID0gb3RoZXJcclxuXHRpZiBrZXkgPT0gJ2QnICMgbW92ZSByaWdodFxyXG5cdFx0b3RoZXIgPSAoY3VycmVudCsxKSAlJSBuXHJcblx0XHRbdGlsZXNbY3VycmVudF0sIHRpbGVzW290aGVyXV0gPSBbdGlsZXNbb3RoZXJdLCB0aWxlc1tjdXJyZW50XV1cclxuXHRcdGN1cnJlbnQgPSBvdGhlclxyXG5cdGlmIGtleSA9PSAnRGVsZXRlJ1xyXG5cdFx0dGlsZXMuc3BsaWNlIGN1cnJlbnQsMVxyXG5cdFx0biA9IHRpbGVzLmxlbmd0aFxyXG5cdFx0aWYgY3VycmVudCA9PSBuIHRoZW4gY3VycmVudCA9IHRpbGVzLmxlbmd0aC0xXHJcblx0XHRpZiBhbnRhbCA+IG4gdGhlbiBhbnRhbD1uXHJcblxyXG5cdHNob3duVGlsZXMgPSBbXVxyXG5cdGlmIGFudGFsID09IDFcclxuXHRcdHNob3duVGlsZXMucHVzaCBuZXcgVGlsZSB0aWxlc1tjdXJyZW50XSwgMzAwLCAzMDAsIDMwMCwgMzAwXHJcblx0aWYgYW50YWwgPT0gMlxyXG5cdFx0c2hvd25UaWxlcy5wdXNoIG5ldyBUaWxlIHRpbGVzW2N1cnJlbnRdLCAxNTAsIDMwMCwgMTUwLCAzMDBcclxuXHRcdHNob3duVGlsZXMucHVzaCBuZXcgVGlsZSB0aWxlc1soY3VycmVudCsxKSAlJSBuXSwgNDUwLCAzMDAsIDE1MCwgMzAwXHJcblx0aWYgYW50YWwgPT0gM1xyXG5cdFx0c2hvd25UaWxlcy5wdXNoIG5ldyBUaWxlIHRpbGVzW2N1cnJlbnQrMF0sIDE1MCwgMzAwLCAxNTAsIDMwMFxyXG5cdFx0c2hvd25UaWxlcy5wdXNoIG5ldyBUaWxlIHRpbGVzWyhjdXJyZW50KzEpICUlIG5dLCA0NTAsIDE1MCwgMTUwLCAxNTBcclxuXHRcdHNob3duVGlsZXMucHVzaCBuZXcgVGlsZSB0aWxlc1soY3VycmVudCsyKSAlJSBuXSwgNDUwLCA0NTAsIDE1MCwgMTUwXHJcblx0aWYgYW50YWwgPT0gNFxyXG5cdFx0c2hvd25UaWxlcy5wdXNoIG5ldyBUaWxlIHRpbGVzW2N1cnJlbnQrMF0sIDE1MCwgMTUwLCAxNTAsIDE1MFxyXG5cdFx0c2hvd25UaWxlcy5wdXNoIG5ldyBUaWxlIHRpbGVzWyhjdXJyZW50KzEpICUlIG5dLCA0NTAsIDE1MCwgMTUwLCAxNTBcclxuXHRcdHNob3duVGlsZXMucHVzaCBuZXcgVGlsZSB0aWxlc1soY3VycmVudCsyKSAlJSBuXSwgMTUwLCA0NTAsIDE1MCwgMTUwXHJcblx0XHRzaG93blRpbGVzLnB1c2ggbmV3IFRpbGUgdGlsZXNbKGN1cnJlbnQrMykgJSUgbl0sIDQ1MCwgNDUwLCAxNTAsIDE1MFxyXG4iXX0=
//# sourceURL=c:\github\myNiri\coffee\sketch.coffee