// Generated by CoffeeScript 2.7.0
var DIR, DN, LT, RT, SPC, UP, calcNode, created, curr, drawNode, echo, exitPoint, extras, findTarget, inside, keyPressed, makeExtra, range, setup, tree, xdraw;

echo = console.log;

range = _.range;

SPC = ' '; // Indikerar förgrening

tree = {};

//tree = {0: 'A'} # index 0 är roten. barnen till noden i ligger i 2*i+1 och 2*i+2
//tree = {0:SPC, 1:'A', 2:SPC, 5:'B', 6:SPC, 13:'D', 14:' ', 29:'F', 30:'G' } # index 0 är roten. barnen till noden i ligger i 2*i+1 och 2*i+2
extras = {}; // x,y,left,right,down,up

DIR = 'R L D U'.split(' ');

RT = 0;

LT = 1;

DN = 2;

UP = 3;

curr = 0;

created = 0;

drawNode = function(i, x, y, w, h) {
  var letter;
  if (!(i in tree)) {
    return;
  }
  if (curr === -1) {
    return;
  }
  letter = tree[i];
  if (letter !== SPC) {
    noFill();
    stroke('black');
    rect(x, y, w, h);
    noStroke();
    textSize((w + h) / 4);
    fill(curr === i ? 'yellow' : 'black');
    return text(letter, x + w / 2, y + h / 2);
  } else {
    if (w > h) {
      drawNode(2 * i + 1, x, y, w / 2, h);
      return drawNode(2 * i + 2, x + w / 2, y, w / 2, h);
    } else {
      drawNode(2 * i + 1, x, y, w, h / 2);
      return drawNode(2 * i + 2, x, y + h / 2, w, h / 2);
    }
  }
};

calcNode = function(i, x, y, w, h) { // Beräkna x och y för alla synliga tiles
  var name;
  //echo 'calcNode',tree[i],x,y,w,h
  if (!(i in tree)) {
    return;
  }
  if (curr === -1) {
    return;
  }
  name = tree[i];
  if (name !== SPC) {
    return extras[i] = {name, x, y, w, h};
  } else {
    if (w > h) {
      calcNode(2 * i + 1, x, y, w / 2, h);
      return calcNode(2 * i + 2, x + w / 2, y, w / 2, h);
    } else {
      calcNode(2 * i + 1, x, y, w, h / 2);
      return calcNode(2 * i + 2, x, y + h / 2, w, h / 2);
    }
  }
};

exitPoint = function(dir, extra) {
  var h, w, x, y;
  ({x, y, w, h} = extra);
  if (dir === RT) {
    return {
      x: x + w,
      y: y + h / 2
    };
  }
  if (dir === LT) {
    return {
      x: x,
      y: y + h / 2
    };
  }
  if (dir === DN) {
    return {
      x: x + w / 2,
      y: y + h
    };
  }
  if (dir === UP) {
    return {
      x: x + w / 2,
      y: y
    };
  }
  return {
    x: -999,
    y: -999
  };
};

inside = function(rect, ep) {
  var h, ref, ref1, w, x, y;
  ({x, y, w, h} = rect);
  return (x <= (ref = ep.x) && ref <= x + w) && (y <= (ref1 = ep.y) && ref1 <= y + h);
};

findTarget = function(dir) {
  var ep, extra, j, key2, len, ref, targets;
  extras = {};
  calcNode(0, 0, 0, width, height);
  extra = extras[curr];
  ep = exitPoint(dir, extra);
  targets = [];
  ref = _.keys(extras);
  for (j = 0, len = ref.length; j < len; j++) {
    key2 = ref[j];
    if (str(curr) === key2) {
      continue;
    }
    extra = extras[key2];
    if (inside(extra, ep)) {
      targets.push({
        size: extra.w * extra.h,
        key: int(key2)
      });
    }
  }
  if (targets.length > 0) {
    targets.sort(function(a, b) {
      return b.size - a.size;
    });
    return curr = int(targets[0].key);
  }
};

setup = function() {
  createCanvas(500, 400);
  textAlign(CENTER, CENTER);
  strokeWeight(2);
  echo(tree);
  return xdraw();
};

xdraw = function() {
  background('gray');
  return drawNode(0, 0, 0, width, height);
};

makeExtra = function() {
  var i, j, len, ref;
  extras = {};
  calcNode(0, 0, 0, width, height);
  ref = range(4);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    setDirections(i);
  }
  return echo('makeExtra', extras);
};

keyPressed = function() {
  var left, newNode, other, parent, right;
  if (key === 'n') {
    newNode = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"[created];
    created += 1;
    if (0 === _.size(tree)) {
      tree[0] = newNode;
      curr = 0;
    } else {
      left = 2 * curr + 1;
      right = 2 * curr + 2;
      tree[left] = tree[curr];
      tree[curr] = SPC;
      tree[right] = newNode;
      curr = right;
    }
    // makeExtra()
    echo('Insert', curr, tree);
  }
  if (key === 'Delete') {
    if (curr === -1) {
      return;
    }
    if (1 === _.size(tree)) {
      tree = {};
      curr = -1;
    } else {
      parent = Math.floor((curr - 1) / 2);
      left = 2 * parent + 1;
      right = 2 * parent + 2;
      other = right === curr ? left : right;
      tree[parent] = tree[other];
      delete tree[right];
      delete tree[left];
      curr = parent;
    }
    echo('Delete', curr, tree);
  }
  // if _.includes 'ABCDEFGHabcdefgh', key
  // 	for k in _.keys tree 
  // 		if tree[k] == key.toUpperCase() then curr = int(k)
  if (key === 'ArrowRight') {
    findTarget(RT);
  }
  if (key === 'ArrowLeft') {
    findTarget(LT);
  }
  if (key === 'ArrowDown') {
    findTarget(DN);
  }
  if (key === 'ArrowUp') {
    findTarget(UP);
  }
  // move left, right, down, up saknas
  return xdraw();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHlwci5qcyIsInNvdXJjZVJvb3QiOiIuLlxcIiwic291cmNlcyI6WyJjb2ZmZWVcXGh5cHIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsTUFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUE7O0FBQUEsSUFBQSxHQUFPLE9BQU8sQ0FBQzs7QUFDZixLQUFBLEdBQVEsQ0FBQyxDQUFDOztBQUVWLEdBQUEsR0FBTSxJQUhOOztBQUlBLElBQUEsR0FBTyxDQUFBLEVBSlA7Ozs7QUFRQSxNQUFBLEdBQVMsQ0FBQSxFQVJUOztBQVVBLEdBQUEsR0FBTSxTQUFTLENBQUMsS0FBVixDQUFnQixHQUFoQjs7QUFFTixFQUFBLEdBQUs7O0FBQ0wsRUFBQSxHQUFLOztBQUNMLEVBQUEsR0FBSzs7QUFDTCxFQUFBLEdBQUs7O0FBRUwsSUFBQSxHQUFPOztBQUNQLE9BQUEsR0FBVTs7QUFFVixRQUFBLEdBQVcsUUFBQSxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULENBQUE7QUFDWCxNQUFBO0VBQUMsTUFBRyxDQUFBLElBQVMsS0FBWjtBQUFzQixXQUF0Qjs7RUFDQSxJQUFHLElBQUEsS0FBUSxDQUFDLENBQVo7QUFBbUIsV0FBbkI7O0VBQ0EsTUFBQSxHQUFTLElBQUksQ0FBQyxDQUFEO0VBQ2IsSUFBRyxNQUFBLEtBQVUsR0FBYjtJQUNDLE1BQUEsQ0FBQTtJQUNBLE1BQUEsQ0FBTyxPQUFQO0lBQ0EsSUFBQSxDQUFLLENBQUwsRUFBUSxDQUFSLEVBQVcsQ0FBWCxFQUFjLENBQWQ7SUFDQSxRQUFB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QUNwQixLQUFBLEdBQVEsQ0FBQSxHQUFJLE1BQUosR0FBYTtNQUNyQixLQUFBLEdBQVcsS0FBQSxLQUFTLElBQVosR0FBc0IsSUFBdEIsR0FBZ0M7TUFDeEMsSUFBSSxDQUFDLE1BQUQsQ0FBSixHQUFlLElBQUksQ0FBQyxLQUFEO01BQ25CLE9BQU8sSUFBSSxDQUFDLEtBQUQ7TUFDWCxPQUFPLElBQUksQ0FBQyxJQUFEO01BQ1gsSUFBQSxHQUFPLE9BWFI7O0lBWUEsSUFBQSxDQUFLLFFBQUwsRUFBYyxJQUFkLEVBQW1CLElBQW5CLEVBZEQ7R0FoQkQ7Ozs7RUFvQ0MsSUFBRyxHQUFBLEtBQU8sWUFBVjtJQUE0QixVQUFBLENBQVcsRUFBWCxFQUE1Qjs7RUFDQSxJQUFHLEdBQUEsS0FBTyxXQUFWO0lBQTRCLFVBQUEsQ0FBVyxFQUFYLEVBQTVCOztFQUNBLElBQUcsR0FBQSxLQUFPLFdBQVY7SUFBNEIsVUFBQSxDQUFXLEVBQVgsRUFBNUI7O0VBQ0EsSUFBRyxHQUFBLEtBQU8sU0FBVjtJQUE0QixVQUFBLENBQVcsRUFBWCxFQUE1QjtHQXZDRDs7U0EyQ0MsS0FBQSxDQUFBO0FBNUNZIiwic291cmNlc0NvbnRlbnQiOlsiZWNobyA9IGNvbnNvbGUubG9nXHJcbnJhbmdlID0gXy5yYW5nZVxyXG5cclxuU1BDID0gJyAnICMgSW5kaWtlcmFyIGbDtnJncmVuaW5nXHJcbnRyZWUgPSB7fVxyXG4jdHJlZSA9IHswOiAnQSd9ICMgaW5kZXggMCDDpHIgcm90ZW4uIGJhcm5lbiB0aWxsIG5vZGVuIGkgbGlnZ2VyIGkgMippKzEgb2NoIDIqaSsyXHJcbiN0cmVlID0gezA6U1BDLCAxOidBJywgMjpTUEMsIDU6J0InLCA2OlNQQywgMTM6J0QnLCAxNDonICcsIDI5OidGJywgMzA6J0cnIH0gIyBpbmRleCAwIMOkciByb3Rlbi4gYmFybmVuIHRpbGwgbm9kZW4gaSBsaWdnZXIgaSAyKmkrMSBvY2ggMippKzJcclxuXHJcbmV4dHJhcyA9IHt9ICMgeCx5LGxlZnQscmlnaHQsZG93bix1cFxyXG5cclxuRElSID0gJ1IgTCBEIFUnLnNwbGl0ICcgJ1xyXG5cclxuUlQgPSAwXHJcbkxUID0gMVxyXG5ETiA9IDJcclxuVVAgPSAzXHJcblxyXG5jdXJyID0gMFxyXG5jcmVhdGVkID0gMFxyXG5cclxuZHJhd05vZGUgPSAoaSx4LHksdyxoKSAtPlxyXG5cdGlmIGkgbm90IG9mIHRyZWUgdGhlbiByZXR1cm5cclxuXHRpZiBjdXJyID09IC0xIHRoZW4gcmV0dXJuXHJcblx0bGV0dGVyID0gdHJlZVtpXVxyXG5cdGlmIGxldHRlciAhPSBTUENcclxuXHRcdG5vRmlsbCgpXHJcblx0XHRzdHJva2UgJ2JsYWNrJ1xyXG5cdFx0cmVjdCB4LCB5LCB3LCBoXHJcblx0XHRub1N0cm9rZSgpXHJcblx0XHR0ZXh0U2l6ZSAodytoKS80XHJcblx0XHRmaWxsIGlmIGN1cnIgPT0gaSB0aGVuICd5ZWxsb3cnIGVsc2UgJ2JsYWNrJ1xyXG5cdFx0dGV4dCBsZXR0ZXIseCt3LzIsIHkraC8yXHJcblx0ZWxzZVxyXG5cdFx0aWYgdyA+IGhcclxuXHRcdFx0ZHJhd05vZGUgMippKzEsIHgsIHksICAgICB3LzIsIGhcclxuXHRcdFx0ZHJhd05vZGUgMippKzIsIHgrdy8yLCB5LCB3LzIsIGhcclxuXHRcdGVsc2VcclxuXHRcdFx0ZHJhd05vZGUgMippKzEsIHgsIHksICAgICB3LCBoLzJcclxuXHRcdFx0ZHJhd05vZGUgMippKzIsIHgsIHkraC8yLCB3LCBoLzJcclxuXHJcbmNhbGNOb2RlID0gKGkseCx5LHcsaCkgLT4gIyBCZXLDpGtuYSB4IG9jaCB5IGbDtnIgYWxsYSBzeW5saWdhIHRpbGVzXHJcblx0I2VjaG8gJ2NhbGNOb2RlJyx0cmVlW2ldLHgseSx3LGhcclxuXHRpZiBpIG5vdCBvZiB0cmVlIHRoZW4gcmV0dXJuXHJcblx0aWYgY3VyciA9PSAtMSB0aGVuIHJldHVyblxyXG5cdG5hbWUgPSB0cmVlW2ldXHJcblx0aWYgbmFtZSAhPSBTUENcclxuXHRcdGV4dHJhc1tpXSA9IHtuYW1lLCB4LCB5LCB3LCBofVxyXG5cdGVsc2VcclxuXHRcdGlmIHcgPiBoIFxyXG5cdFx0XHRjYWxjTm9kZSAyKmkrMSwgeCwgeSwgICAgIHcvMiwgaFxyXG5cdFx0XHRjYWxjTm9kZSAyKmkrMiwgeCt3LzIsIHksIHcvMiwgaFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjYWxjTm9kZSAyKmkrMSwgeCwgeSwgICAgIHcsIGgvMlxyXG5cdFx0XHRjYWxjTm9kZSAyKmkrMiwgeCwgeStoLzIsIHcsIGgvMlxyXG5cclxuZXhpdFBvaW50ID0gKGRpciwgZXh0cmEpIC0+XHJcblx0e3gseSx3LGh9ID0gZXh0cmFcclxuXHRpZiBkaXIgPT0gUlQgdGhlbiByZXR1cm4ge3g6eCArIHcsICAgeTp5ICsgaC8yfVxyXG5cdGlmIGRpciA9PSBMVCB0aGVuIHJldHVybiB7eDp4LCAgICAgICB5OnkgKyBoLzJ9XHJcblx0aWYgZGlyID09IEROIHRoZW4gcmV0dXJuIHt4OnggKyB3LzIsIHk6eSArIGh9XHJcblx0aWYgZGlyID09IFVQIHRoZW4gcmV0dXJuIHt4OnggKyB3LzIsIHk6eX1cclxuXHR7eDotOTk5LCB5Oi05OTl9XHJcblxyXG5pbnNpZGUgPSAocmVjdCwgZXApIC0+XHJcblx0e3gseSx3LGh9ID0gcmVjdFxyXG5cdHggPD0gZXAueCA8PSB4K3cgYW5kIHkgPD0gZXAueSA8PSB5K2hcclxuXHJcbmZpbmRUYXJnZXQgPSAoZGlyKSAtPlxyXG5cdGV4dHJhcyA9IHt9XHJcblx0Y2FsY05vZGUgMCwgMCwgMCwgd2lkdGgsIGhlaWdodFxyXG5cdGV4dHJhID0gZXh0cmFzW2N1cnJdXHJcblx0ZXAgPSBleGl0UG9pbnQgZGlyLCBleHRyYVxyXG5cclxuXHR0YXJnZXRzID0gW11cclxuXHRmb3Iga2V5MiBpbiBfLmtleXMgZXh0cmFzXHJcblx0XHRpZiBzdHIoY3VycikgPT0ga2V5MiB0aGVuIGNvbnRpbnVlXHJcblx0XHRleHRyYSA9IGV4dHJhc1trZXkyXVxyXG5cdFx0aWYgaW5zaWRlIGV4dHJhLCBlcCB0aGVuIHRhcmdldHMucHVzaCB7c2l6ZTogZXh0cmEudyAqIGV4dHJhLmgsIGtleTogaW50IGtleTJ9XHJcblx0aWYgdGFyZ2V0cy5sZW5ndGggPiAwIFxyXG5cdFx0dGFyZ2V0cy5zb3J0IChhLGIpIC0+IGIuc2l6ZSAtIGEuc2l6ZVxyXG5cdFx0Y3VyciA9IGludCB0YXJnZXRzWzBdLmtleVxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyA1MDAsNDAwXHJcblx0dGV4dEFsaWduIENFTlRFUixDRU5URVJcclxuXHRzdHJva2VXZWlnaHQgMlxyXG5cdGVjaG8gdHJlZVxyXG5cdHhkcmF3KClcclxuXHJcbnhkcmF3ID0gLT5cclxuXHRiYWNrZ3JvdW5kICdncmF5J1xyXG5cdGRyYXdOb2RlIDAsIDAsIDAsIHdpZHRoLCBoZWlnaHRcclxuXHJcbm1ha2VFeHRyYSA9IC0+XHJcblx0ZXh0cmFzID0ge31cclxuXHRjYWxjTm9kZSAwLCAwLCAwLCB3aWR0aCwgaGVpZ2h0XHJcblx0Zm9yIGkgaW4gcmFuZ2UgNFxyXG5cdFx0c2V0RGlyZWN0aW9ucyBpXHJcblx0ZWNobyAnbWFrZUV4dHJhJywgZXh0cmFzXHJcblxyXG5rZXlQcmVzc2VkID0gLT5cclxuXHRpZiBrZXkgPT0gJ24nXHJcblx0XHRuZXdOb2RlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiW2NyZWF0ZWRdXHJcblx0XHRjcmVhdGVkICs9IDFcclxuXHRcdGlmIDAgPT0gXy5zaXplIHRyZWVcclxuXHRcdFx0dHJlZVswXSA9IG5ld05vZGVcclxuXHRcdFx0Y3VyciA9IDBcclxuXHRcdGVsc2VcclxuXHRcdFx0bGVmdCAgPSAyICogY3VyciArIDFcclxuXHRcdFx0cmlnaHQgPSAyICogY3VyciArIDJcclxuXHRcdFx0dHJlZVtsZWZ0XSA9IHRyZWVbY3Vycl1cclxuXHRcdFx0dHJlZVtjdXJyXSA9IFNQQ1xyXG5cdFx0XHR0cmVlW3JpZ2h0XSA9IG5ld05vZGVcclxuXHRcdFx0Y3VyciA9IHJpZ2h0XHJcblx0XHQjIG1ha2VFeHRyYSgpXHJcblx0XHRlY2hvICdJbnNlcnQnLGN1cnIsdHJlZVxyXG5cclxuXHRpZiBrZXkgPT0gJ0RlbGV0ZSdcclxuXHRcdGlmIGN1cnIgPT0gLTEgdGhlbiByZXR1cm5cclxuXHRcdGlmIDEgPT0gXy5zaXplIHRyZWVcclxuXHRcdFx0dHJlZSA9IHt9XHJcblx0XHRcdGN1cnIgPSAtMVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRwYXJlbnQgPSAoY3Vyci0xKSAvLyAyXHJcblx0XHRcdGxlZnQgPSAyICogcGFyZW50ICsgMVxyXG5cdFx0XHRyaWdodCA9IDIgKiBwYXJlbnQgKyAyXHJcblx0XHRcdG90aGVyID0gaWYgcmlnaHQgPT0gY3VyciB0aGVuIGxlZnQgZWxzZSByaWdodFxyXG5cdFx0XHR0cmVlW3BhcmVudF0gPSB0cmVlW290aGVyXVxyXG5cdFx0XHRkZWxldGUgdHJlZVtyaWdodF1cclxuXHRcdFx0ZGVsZXRlIHRyZWVbbGVmdF1cclxuXHRcdFx0Y3VyciA9IHBhcmVudFxyXG5cdFx0ZWNobyAnRGVsZXRlJyxjdXJyLHRyZWVcclxuXHJcblx0IyBpZiBfLmluY2x1ZGVzICdBQkNERUZHSGFiY2RlZmdoJywga2V5XHJcblx0IyBcdGZvciBrIGluIF8ua2V5cyB0cmVlIFxyXG5cdCMgXHRcdGlmIHRyZWVba10gPT0ga2V5LnRvVXBwZXJDYXNlKCkgdGhlbiBjdXJyID0gaW50KGspXHJcblxyXG5cdGlmIGtleSA9PSAnQXJyb3dSaWdodCcgdGhlbiBmaW5kVGFyZ2V0IFJUXHJcblx0aWYga2V5ID09ICdBcnJvd0xlZnQnICB0aGVuIGZpbmRUYXJnZXQgTFRcclxuXHRpZiBrZXkgPT0gJ0Fycm93RG93bicgIHRoZW4gZmluZFRhcmdldCBETlxyXG5cdGlmIGtleSA9PSAnQXJyb3dVcCcgICAgdGhlbiBmaW5kVGFyZ2V0IFVQXHJcblxyXG5cdCMgbW92ZSBsZWZ0LCByaWdodCwgZG93biwgdXAgc2FrbmFzXHJcblxyXG5cdHhkcmF3KClcclxuIl19
//# sourceURL=c:\github\myNiri\coffee\hypr.coffee