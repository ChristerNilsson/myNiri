// Generated by CoffeeScript 2.7.0
var DIR, DN, LT, RT, SPC, UP, calcNode, created, curr, drawNode, echo, exitPoint, extras, findTarget, inside, keyPressed, makeExtra, range, setup, tree, xdraw;

echo = console.log;

range = _.range;

SPC = ' '; // Indikerar förgrening

tree = {};

//tree = {0: 'A'} # index 0 är roten. barnen till noden i ligger i 2*i+1 och 2*i+2
//tree = {0:SPC, 1:'A', 2:SPC, 5:'B', 6:SPC, 13:'D', 14:' ', 29:'F', 30:'G' } # index 0 är roten. barnen till noden i ligger i 2*i+1 och 2*i+2
extras = {}; // x,y,left,right,down,up

DIR = 'R L D U'.split(' ');

RT = 0;

LT = 1;

DN = 2;

UP = 3;

curr = 0;

created = 0;

drawNode = function(i, x, y, w, h) {
  var letter;
  if (!(i in tree)) {
    return;
  }
  if (curr === -1) {
    return;
  }
  letter = tree[i];
  if (letter !== SPC) {
    noFill();
    stroke('black');
    rect(x, y, w, h);
    noStroke();
    textSize((w + h) / 4);
    fill(curr === i ? 'yellow' : 'black');
    return text(letter, x + w / 2, y + h / 2);
  } else {
    if (w > h) {
      drawNode(2 * i + 1, x, y, w / 2, h);
      return drawNode(2 * i + 2, x + w / 2, y, w / 2, h);
    } else {
      drawNode(2 * i + 1, x, y, w, h / 2);
      return drawNode(2 * i + 2, x, y + h / 2, w, h / 2);
    }
  }
};

calcNode = function(i, x, y, w, h) { // Beräkna x och y för alla synliga tiles
  var name;
  //echo 'calcNode',tree[i],x,y,w,h
  if (!(i in tree)) {
    return;
  }
  if (curr === -1) {
    return;
  }
  name = tree[i];
  if (name !== SPC) {
    return extras[i] = {name, x, y, w, h};
  } else {
    if (w > h) {
      calcNode(2 * i + 1, x, y, w / 2, h);
      return calcNode(2 * i + 2, x + w / 2, y, w / 2, h);
    } else {
      calcNode(2 * i + 1, x, y, w, h / 2);
      return calcNode(2 * i + 2, x, y + h / 2, w, h / 2);
    }
  }
};

exitPoint = function(dir, extra) {
  var h, w, x, y;
  ({x, y, w, h} = extra);
  if (dir === RT) {
    return {
      x: x + w,
      y: y + h / 2
    };
  }
  if (dir === LT) {
    return {
      x: x,
      y: y + h / 2
    };
  }
  if (dir === DN) {
    return {
      x: x + w / 2,
      y: y + h
    };
  }
  if (dir === UP) {
    return {
      x: x + w / 2,
      y: y
    };
  }
  return {
    x: -999,
    y: -999
  };
};

inside = function(rect, ep) {
  var h, ref, ref1, w, x, y;
  ({x, y, w, h} = rect);
  return (x <= (ref = ep.x) && ref <= x + w) && (y <= (ref1 = ep.y) && ref1 <= y + h);
};

findTarget = function(dir) {
  var ep, extra, j, key2, len, ref, targets;
  extras = {};
  calcNode(0, 0, 0, width, height);
  extra = extras[curr];
  ep = exitPoint(dir, extra);
  targets = [];
  ref = _.keys(extras);
  for (j = 0, len = ref.length; j < len; j++) {
    key2 = ref[j];
    if (str(curr) === key2) {
      continue;
    }
    extra = extras[key2];
    if (inside(extra, ep)) {
      targets.push({
        size: extra.w * extra.h,
        key: int(key2)
      });
    }
  }
  if (targets.length > 0) {
    targets.sort(function(a, b) {
      return b.size - a.size;
    });
    return curr = int(targets[0].key);
  }
};

setup = function() {
  createCanvas(500, 400);
  textAlign(CENTER, CENTER);
  strokeWeight(2);
  echo(tree);
  return xdraw();
};

xdraw = function() {
  background('gray');
  return drawNode(0, 0, 0, width, height);
};

makeExtra = function() {
  var i, j, len, ref;
  extras = {};
  calcNode(0, 0, 0, width, height);
  ref = range(4);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    setDirections(i);
  }
  return echo('makeExtra', extras);
};

keyPressed = function() {
  var left, newNode, other, parent, right;
  if (key === 'n') {
    newNode = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"[created];
    created += 1;
    if (0 === _.size(tree)) {
      tree[0] = newNode;
      curr = 0;
    } else {
      left = 2 * curr + 1;
      right = 2 * curr + 2;
      tree[left] = tree[curr];
      tree[curr] = SPC;
      tree[right] = newNode;
      curr = right;
    }
    // makeExtra()
    echo('Insert', curr, tree);
  }
  if (key === 'Delete') {
    if (curr === -1) {
      return;
    }
    if (1 === _.size(tree)) {
      tree = {};
      curr = -1;
    } else {
      parent = Math.floor((curr - 1) / 2);
      left = 2 * parent + 1;
      right = 2 * parent + 2;
      other = right === curr ? left : right;
      tree[parent] = tree[other];
      delete tree[right];
      delete tree[left];
      curr = parent;
    }
    echo('Delete', curr, tree);
  }
  // if _.includes 'ABCDEFGHabcdefgh', key
  // 	for k in _.keys tree 
  // 		if tree[k] == key.toUpperCase() then curr = int(k)
  if (key === 'ArrowRight') {
    findTarget(RT);
  }
  if (key === 'ArrowLeft') {
    findTarget(LT);
  }
  if (key === 'ArrowDown') {
    findTarget(DN);
  }
  if (key === 'ArrowUp') {
    findTarget(UP);
  }
  // move left, right, down, up saknas
  return xdraw();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHlwci5qcyIsInNvdXJjZVJvb3QiOiIuLlxcIiwic291cmNlcyI6WyJjb2ZmZWVcXGh5cHIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsTUFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUE7O0FBQUEsSUFBQSxHQUFPLE9BQU8sQ0FBQzs7QUFDZixLQUFBLEdBQVEsQ0FBQyxDQUFDOztBQUVWLEdBQUEsR0FBTSxJQUhOOztBQUlBLElBQUEsR0FBTyxDQUFBLEVBSlA7Ozs7QUFRQSxNQUFBLEdBQVMsQ0FBQSxFQVJUOztBQVVBLEdBQUEsR0FBTSxTQUFTLENBQUMsS0FBVixDQUFnQixHQUFoQjs7QUFFTixFQUFBLEdBQUs7O0FBQ0wsRUFBQSxHQUFLOztBQUNMLEVBQUEsR0FBSzs7QUFDTCxFQUFBLEdBQUs7O0FBRUwsSUFBQSxHQUFPOztBQUNQLE9BQUEsR0FBVTs7QUFFVixRQUFBLEdBQVcsUUFBQSxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULENBQUE7QUFDWCxNQUFBO0VBQUMsTUFBRyxDQUFBLElBQVMsS0FBWjtBQUFzQixXQUF0Qjs7RUFDQSxJQUFHLElBQUEsS0FBUSxDQUFDLENBQVo7QUFBbUIsV0FBbkI7O0VBQ0EsTUFBQSxHQUFTLElBQUksQ0FBQyxDQUFEO0VBQ2IsSUFBRyxNQUFBLEtBQVUsR0FBYjtJQUNDLE1BQUEsQ0FBQTtJQUNBLE1BQUEsQ0FBTyxPQUFQO0lBQ0EsSUFBQSxDQUFLLENBQUwsRUFBUSxDQUFSLEVBQVcsQ0FBWCxFQUFjLENBQWQ7SUFDQSxRQUFB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QUNwQixLQUFBLEdBQVEsQ0FBQSxHQUFJLE1BQUosR0FBYTtNQUNyQixLQUFBLEdBQVcsS0FBQSxLQUFTLElBQVosR0FBc0IsSUFBdEIsR0FBZ0M7TUFDeEMsSUFBSSxDQUFDLE1BQUQsQ0FBSixHQUFlLElBQUksQ0FBQyxLQUFEO01BQ25CLE9BQU8sSUFBSSxDQUFDLEtBQUQ7TUFDWCxPQUFPLElBQUksQ0FBQyxJQUFEO01BQ1gsSUFBQSxHQUFPLE9BWFI7O0lBWUEsSUFBQSxDQUFLLFFBQUwsRUFBYyxJQUFkLEVBQW1CLElBQW5CLEVBZEQ7R0FoQkQ7Ozs7RUFvQ0MsSUFBRyxHQUFBLEtBQU8sWUFBVjtJQUE0QixVQUFBLENBQVcsRUFBWCxFQUE1Qjs7RUFDQSxJQUFHLEdBQUEsS0FBTyxXQUFWO0lBQTRCLFVBQUEsQ0FBVyxFQUFYLEVBQTVCOztFQUNBLElBQUcsR0FBQSxLQUFPLFdBQVY7SUFBNEIsVUFBQSxDQUFXLEVBQVgsRUFBNUI7O0VBQ0EsSUFBRyxHQUFBLEtBQU8sU0FBVjtJQUE0QixVQUFBLENBQVcsRUFBWCxFQUE1QjtHQXZDRDs7U0EyQ0MsS0FBQSxDQUFBO0FBNUNZIiwic291cmNlc0NvbnRlbnQiOlsiZWNobyA9IGNvbnNvbGUubG9nXHJcbnJhbmdlID0gXy5yYW5nZVxyXG5cclxuU1BDID0gJyAnICMgSW5kaWtlcmFyIGbDtnJncmVuaW5nXHJcbnRyZWUgPSB7fVxyXG4jdHJlZSA9IHswOiAnQSd9ICMgaW5kZXggMCDDpHIgcm90ZW4uIGJhcm5lbiB0aWxsIG5vZGVuIGkgbGlnZ2VyIGkgMippKzEgb2NoIDIqaSsyXHJcbiN0cmVlID0gezA6U1BDLCAxOidBJywgMjpTUEMsIDU6J0InLCA2OlNQQywgMTM6J0QnLCAxNDonICcsIDI5OidGJywgMzA6J0cnIH0gIyBpbmRleCAwIMOkciByb3Rlbi4gYmFybmVuIHRpbGwgbm9kZW4gaSBsaWdnZXIgaSAyKmkrMSBvY2ggMippKzJcclxuXHJcbmV4dHJhcyA9IHt9ICMgeCx5LGxlZnQscmlnaHQsZG93bix1cFxyXG5cclxuRElSID0gJ1IgTCBEIFUnLnNwbGl0ICcgJ1xyXG5cclxuUlQgPSAwXHJcbkxUID0gMVxyXG5ETiA9IDJcclxuVVAgPSAzXHJcblxyXG5jdXJyID0gMFxyXG5jcmVhdGVkID0gMCBcclxuXHJcbmRyYXdOb2RlID0gKGkseCx5LHcsaCkgLT5cclxuXHRpZiBpIG5vdCBvZiB0cmVlIHRoZW4gcmV0dXJuXHJcblx0aWYgY3VyciA9PSAtMSB0aGVuIHJldHVyblxyXG5cdGxldHRlciA9IHRyZWVbaV1cclxuXHRpZiBsZXR0ZXIgIT0gU1BDXHJcblx0XHRub0ZpbGwoKVxyXG5cdFx0c3Ryb2tlICdibGFjaydcclxuXHRcdHJlY3QgeCwgeSwgdywgaFxyXG5cdFx0bm9TdHJva2UoKVxyXG5cdFx0dGV4dFNpemUgKHcraCkvNFxyXG5cdFx0ZmlsbCBpZiBjdXJyID09IGkgdGhlbiAneWVsbG93JyBlbHNlICdibGFjaydcclxuXHRcdHRleHQgbGV0dGVyLHgrdy8yLCB5K2gvMlxyXG5cdGVsc2VcclxuXHRcdGlmIHcgPiBoXHJcblx0XHRcdGRyYXdOb2RlIDIqaSsxLCB4LCB5LCAgICAgdy8yLCBoXHJcblx0XHRcdGRyYXdOb2RlIDIqaSsyLCB4K3cvMiwgeSwgdy8yLCBoXHJcblx0XHRlbHNlXHJcblx0XHRcdGRyYXdOb2RlIDIqaSsxLCB4LCB5LCAgICAgdywgaC8yXHJcblx0XHRcdGRyYXdOb2RlIDIqaSsyLCB4LCB5K2gvMiwgdywgaC8yXHJcblxyXG5jYWxjTm9kZSA9IChpLHgseSx3LGgpIC0+ICMgQmVyw6RrbmEgeCBvY2ggeSBmw7ZyIGFsbGEgc3lubGlnYSB0aWxlc1xyXG5cdCNlY2hvICdjYWxjTm9kZScsdHJlZVtpXSx4LHksdyxoXHJcblx0aWYgaSBub3Qgb2YgdHJlZSB0aGVuIHJldHVyblxyXG5cdGlmIGN1cnIgPT0gLTEgdGhlbiByZXR1cm5cclxuXHRuYW1lID0gdHJlZVtpXVxyXG5cdGlmIG5hbWUgIT0gU1BDXHJcblx0XHRleHRyYXNbaV0gPSB7bmFtZSwgeCwgeSwgdywgaH1cclxuXHRlbHNlXHJcblx0XHRpZiB3ID4gaCBcclxuXHRcdFx0Y2FsY05vZGUgMippKzEsIHgsIHksICAgICB3LzIsIGhcclxuXHRcdFx0Y2FsY05vZGUgMippKzIsIHgrdy8yLCB5LCB3LzIsIGhcclxuXHRcdGVsc2VcclxuXHRcdFx0Y2FsY05vZGUgMippKzEsIHgsIHksICAgICB3LCBoLzJcclxuXHRcdFx0Y2FsY05vZGUgMippKzIsIHgsIHkraC8yLCB3LCBoLzJcclxuXHJcbmV4aXRQb2ludCA9IChkaXIsIGV4dHJhKSAtPlxyXG5cdHt4LHksdyxofSA9IGV4dHJhXHJcblx0aWYgZGlyID09IFJUIHRoZW4gcmV0dXJuIHt4OnggKyB3LCAgIHk6eSArIGgvMn1cclxuXHRpZiBkaXIgPT0gTFQgdGhlbiByZXR1cm4ge3g6eCwgICAgICAgeTp5ICsgaC8yfVxyXG5cdGlmIGRpciA9PSBETiB0aGVuIHJldHVybiB7eDp4ICsgdy8yLCB5OnkgKyBofVxyXG5cdGlmIGRpciA9PSBVUCB0aGVuIHJldHVybiB7eDp4ICsgdy8yLCB5Onl9XHJcblx0e3g6LTk5OSwgeTotOTk5fVxyXG5cclxuaW5zaWRlID0gKHJlY3QsIGVwKSAtPlxyXG5cdHt4LHksdyxofSA9IHJlY3RcclxuXHR4IDw9IGVwLnggPD0geCt3IGFuZCB5IDw9IGVwLnkgPD0geStoXHJcblxyXG5maW5kVGFyZ2V0ID0gKGRpcikgLT5cclxuXHRleHRyYXMgPSB7fVxyXG5cdGNhbGNOb2RlIDAsIDAsIDAsIHdpZHRoLCBoZWlnaHRcclxuXHRleHRyYSA9IGV4dHJhc1tjdXJyXVxyXG5cdGVwID0gZXhpdFBvaW50IGRpciwgZXh0cmFcclxuXHJcblx0dGFyZ2V0cyA9IFtdXHJcblx0Zm9yIGtleTIgaW4gXy5rZXlzIGV4dHJhc1xyXG5cdFx0aWYgc3RyKGN1cnIpID09IGtleTIgdGhlbiBjb250aW51ZVxyXG5cdFx0ZXh0cmEgPSBleHRyYXNba2V5Ml1cclxuXHRcdGlmIGluc2lkZSBleHRyYSwgZXAgdGhlbiB0YXJnZXRzLnB1c2gge3NpemU6IGV4dHJhLncgKiBleHRyYS5oLCBrZXk6IGludCBrZXkyfVxyXG5cdGlmIHRhcmdldHMubGVuZ3RoID4gMCBcclxuXHRcdHRhcmdldHMuc29ydCAoYSxiKSAtPiBiLnNpemUgLSBhLnNpemVcclxuXHRcdGN1cnIgPSBpbnQgdGFyZ2V0c1swXS5rZXlcclxuXHJcbnNldHVwID0gLT5cclxuXHRjcmVhdGVDYW52YXMgNTAwLDQwMFxyXG5cdHRleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblx0c3Ryb2tlV2VpZ2h0IDJcclxuXHRlY2hvIHRyZWVcclxuXHR4ZHJhdygpXHJcblxyXG54ZHJhdyA9IC0+XHJcblx0YmFja2dyb3VuZCAnZ3JheSdcclxuXHRkcmF3Tm9kZSAwLCAwLCAwLCB3aWR0aCwgaGVpZ2h0XHJcblxyXG5tYWtlRXh0cmEgPSAtPlxyXG5cdGV4dHJhcyA9IHt9XHJcblx0Y2FsY05vZGUgMCwgMCwgMCwgd2lkdGgsIGhlaWdodFxyXG5cdGZvciBpIGluIHJhbmdlIDRcclxuXHRcdHNldERpcmVjdGlvbnMgaVxyXG5cdGVjaG8gJ21ha2VFeHRyYScsIGV4dHJhc1xyXG5cclxua2V5UHJlc3NlZCA9IC0+XHJcblx0aWYga2V5ID09ICduJ1xyXG5cdFx0bmV3Tm9kZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIltjcmVhdGVkXVxyXG5cdFx0Y3JlYXRlZCArPSAxXHJcblx0XHRpZiAwID09IF8uc2l6ZSB0cmVlXHJcblx0XHRcdHRyZWVbMF0gPSBuZXdOb2RlXHJcblx0XHRcdGN1cnIgPSAwXHJcblx0XHRlbHNlXHJcblx0XHRcdGxlZnQgID0gMiAqIGN1cnIgKyAxXHJcblx0XHRcdHJpZ2h0ID0gMiAqIGN1cnIgKyAyXHJcblx0XHRcdHRyZWVbbGVmdF0gPSB0cmVlW2N1cnJdXHJcblx0XHRcdHRyZWVbY3Vycl0gPSBTUENcclxuXHRcdFx0dHJlZVtyaWdodF0gPSBuZXdOb2RlXHJcblx0XHRcdGN1cnIgPSByaWdodFxyXG5cdFx0IyBtYWtlRXh0cmEoKVxyXG5cdFx0ZWNobyAnSW5zZXJ0JyxjdXJyLHRyZWVcclxuXHJcblx0aWYga2V5ID09ICdEZWxldGUnXHJcblx0XHRpZiBjdXJyID09IC0xIHRoZW4gcmV0dXJuXHJcblx0XHRpZiAxID09IF8uc2l6ZSB0cmVlXHJcblx0XHRcdHRyZWUgPSB7fVxyXG5cdFx0XHRjdXJyID0gLTFcclxuXHRcdGVsc2VcclxuXHRcdFx0cGFyZW50ID0gKGN1cnItMSkgLy8gMlxyXG5cdFx0XHRsZWZ0ID0gMiAqIHBhcmVudCArIDFcclxuXHRcdFx0cmlnaHQgPSAyICogcGFyZW50ICsgMlxyXG5cdFx0XHRvdGhlciA9IGlmIHJpZ2h0ID09IGN1cnIgdGhlbiBsZWZ0IGVsc2UgcmlnaHRcclxuXHRcdFx0dHJlZVtwYXJlbnRdID0gdHJlZVtvdGhlcl1cclxuXHRcdFx0ZGVsZXRlIHRyZWVbcmlnaHRdXHJcblx0XHRcdGRlbGV0ZSB0cmVlW2xlZnRdXHJcblx0XHRcdGN1cnIgPSBwYXJlbnRcclxuXHRcdGVjaG8gJ0RlbGV0ZScsY3Vycix0cmVlXHJcblxyXG5cdCMgaWYgXy5pbmNsdWRlcyAnQUJDREVGR0hhYmNkZWZnaCcsIGtleVxyXG5cdCMgXHRmb3IgayBpbiBfLmtleXMgdHJlZSBcclxuXHQjIFx0XHRpZiB0cmVlW2tdID09IGtleS50b1VwcGVyQ2FzZSgpIHRoZW4gY3VyciA9IGludChrKVxyXG5cclxuXHRpZiBrZXkgPT0gJ0Fycm93UmlnaHQnIHRoZW4gZmluZFRhcmdldCBSVFxyXG5cdGlmIGtleSA9PSAnQXJyb3dMZWZ0JyAgdGhlbiBmaW5kVGFyZ2V0IExUXHJcblx0aWYga2V5ID09ICdBcnJvd0Rvd24nICB0aGVuIGZpbmRUYXJnZXQgRE5cclxuXHRpZiBrZXkgPT0gJ0Fycm93VXAnICAgIHRoZW4gZmluZFRhcmdldCBVUFxyXG5cclxuXHQjIG1vdmUgbGVmdCwgcmlnaHQsIGRvd24sIHVwIHNha25hc1xyXG5cclxuXHR4ZHJhdygpXHJcbiJdfQ==
//# sourceURL=c:\github\myNiri\coffee\hypr.coffee